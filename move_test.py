# -*- coding: utf-8 -*-
"""
MyCobot 320 M5 - ìˆ˜ë™ ìº˜ë¦¬ë¸Œë ˆì´ì…˜ í…ŒìŠ¤íŠ¸
------------------------------------------------
1ï¸âƒ£ í† í¬ í•´ì œ â†’ ë¡œë´‡ íŒ”ì„ ì†ìœ¼ë¡œ ì›€ì§ì´ê¸°
2ï¸âƒ£ ì›í•˜ëŠ” ìì„¸ì—ì„œ Enter í‚¤ ì…ë ¥
3ï¸âƒ£ í˜„ì¬ ì¢Œí‘œë¥¼ send_coords() í¬ë§·ìœ¼ë¡œ ì¶œë ¥
"""

import time
from pymycobot.mycobot320 import MyCobot320

# ---------------------------------------------
# ê¸°ë³¸ ì„¤ì •
# ---------------------------------------------
PORT = "/dev/ttyACM0"   # ì‹¤ì œ ì—°ê²°ëœ í¬íŠ¸ í™•ì¸ í•„ìš”
BAUD = 115200

mc = MyCobot320(PORT, BAUD)
time.sleep(0.5)
# mc.power_off()
mc.power_on()

print("ğŸ”Œ ë¡œë´‡ ì—°ê²° ì™„ë£Œ")

# ---------------------------------------------
# í† í¬ í•´ì œ (ìˆ˜ë™ ì¡°ì • ê°€ëŠ¥)
# ---------------------------------------------
# mc.get_robot_status()
# print(mc.get_robot_status())
# time.sleep(5)
mc.send_angles([0, 0, 0, 0, 0, 0], 30)
time.sleep(3)
mc.send_coords([68.5, -218.8, 336.7, -176.04, 1.64, 91.65], 20, 0)
print(mc.get_coords())
time.sleep(5)
# mc.get_servo_status()
# print(mc.get_servo_status())
# time.sleep(5)
# mc.send_coords([154.9, -29.8, 521.4, -90.7, 3.55, -94.23],20,1)

# ---------------------------------------------
# í˜„ì¬ ì¢Œí‘œ ì½ê¸°
# ---------------------------------------------

coords = mc.get_coords()
angles = mc.get_angles()

print("\nğŸ“ í˜„ì¬ ë¡œë´‡ ìœ„ì¹˜ ì •ë³´:")
print(f"  â¤ ì¢Œí‘œ (coords): {coords}")
print(f"  â¤ ì¡°ì¸íŠ¸ê° (angles): {angles}")

# ---------------------------------------------
# send_coords í¬ë§· ì¶œë ¥
# ---------------------------------------------
